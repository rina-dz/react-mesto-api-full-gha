{"ast":null,"code":"import _slicedToArray from\"C:/Users/\\u0410\\u0440\\u0438\\u043D\\u0430/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import PopupWithForm from'./PopupWithForm.js';import{usePopupClose}from\"../hooks/usePopupClose.js\";import React from'react';import CurrentUserContext from'../contexts/CurrentUserContext.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setNewName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setNewDescription=_React$useState4[1];var currentUser=React.useContext(CurrentUserContext);React.useEffect(function(){setNewName(currentUser.name);setNewDescription(currentUser.description);},[currentUser,props.isOpen]);function handleSubmit(e){e.preventDefault();props.onUpdateUser({name:name,description:description});}function handleNameChange(e){setNewName(e.target.value);}function handleDescriptionChange(e){setNewDescription(e.target.value);}usePopupClose(props.isOpen,props.onClose);return/*#__PURE__*/_jsx(PopupWithForm,{name:'edit',onSubmit:handleSubmit,title:'Редактировать профиль',isOpen:props.isOpen,onClose:props.onClose,buttonText:'Сохранить',children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Username\",onChange:handleNameChange,value:name||'',placeholder:\"\\u0418\\u043C\\u044F\",className:\"popup__text\",id:\"input_name\",minLength:2,maxLength:40,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"input_name-error\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Occupation\",onChange:handleDescriptionChange,value:description||'',placeholder:\"\\u0420\\u043E\\u0434 \\u0434\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438\",className:\"popup__text\",id:\"input_job\",minLength:2,maxLength:200,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"input_job-error\"})]})});}export default EditProfilePopup;","map":{"version":3,"names":["PopupWithForm","usePopupClose","React","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","props","_React$useState","useState","_React$useState2","_slicedToArray","name","setNewName","_React$useState3","_React$useState4","description","setNewDescription","currentUser","useContext","useEffect","isOpen","handleSubmit","e","preventDefault","onUpdateUser","handleNameChange","target","value","handleDescriptionChange","onClose","onSubmit","title","buttonText","children","type","onChange","placeholder","className","id","minLength","maxLength","required"],"sources":["C:/Users/Арина/react-mesto-api-full-gha/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import PopupWithForm from './PopupWithForm.js';\r\nimport { usePopupClose } from \"../hooks/usePopupClose.js\";\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext.js';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setNewName] = React.useState('');\r\n    const [description, setNewDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setNewName(currentUser.name);\r\n        setNewDescription(currentUser.description);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({ name, description });\r\n    }\r\n\r\n    function handleNameChange(e) {\r\n        setNewName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setNewDescription(e.target.value);\r\n    }\r\n\r\n    usePopupClose(props.isOpen, props.onClose);\r\n\r\n    return (\r\n        <PopupWithForm name={'edit'} onSubmit={handleSubmit} title={'Редактировать профиль'} isOpen={props.isOpen} onClose={props.onClose} buttonText={'Сохранить'}>\r\n            <div>\r\n                <input type=\"text\" name=\"Username\" onChange={handleNameChange} value={name || ''} placeholder=\"Имя\" className=\"popup__text\" id=\"input_name\" minLength={2} maxLength={40} required />\r\n                <span className=\"popup__error\" id=\"input_name-error\" />\r\n                <input type=\"text\" name=\"Occupation\" onChange={handleDescriptionChange} value={description || ''} placeholder=\"Род деятельности\" className=\"popup__text\" id=\"input_job\" minLength={2} maxLength={200} required />\r\n                <span className=\"popup__error\" id=\"input_job-error\" />\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}