{"ast":null,"code":"import{useEffect}from\"react\";export function usePopupClose(isOpen,closePopup){useEffect(function(){if(!isOpen)return;var handleOverlay=function handleOverlay(event){if(event.target.classList.contains(\"popup_opened\")){closePopup();}};var handleEscape=function handleEscape(e){if(e.key===\"Escape\"){closePopup();}};document.addEventListener(\"keydown\",handleEscape);document.addEventListener(\"mousedown\",handleOverlay);return function(){document.removeEventListener(\"keydown\",handleEscape);document.removeEventListener(\"mousedown\",handleOverlay);};},[isOpen,closePopup]);}","map":{"version":3,"names":["useEffect","usePopupClose","isOpen","closePopup","handleOverlay","event","target","classList","contains","handleEscape","e","key","document","addEventListener","removeEventListener"],"sources":["C:/Users/Арина/react-mesto-api-full-gha/frontend/src/hooks/usePopupClose.js"],"sourcesContent":["import { useEffect } from \"react\";\r\n\r\nexport function usePopupClose(isOpen, closePopup) {\r\n    useEffect(() => {\r\n        if (!isOpen) return;\r\n\r\n        const handleOverlay = (event) => {\r\n            if (event.target.classList.contains(\"popup_opened\")) {\r\n                closePopup();\r\n            }\r\n        };\r\n\r\n        const handleEscape = (e) => {\r\n            if (e.key === \"Escape\") {\r\n                closePopup();\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"keydown\", handleEscape);\r\n        document.addEventListener(\"mousedown\", handleOverlay);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", handleEscape);\r\n            document.removeEventListener(\"mousedown\", handleOverlay);\r\n        };\r\n\r\n    }, [isOpen, closePopup]);\r\n}\r\n\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CAEjC,MAAO,SAAS,CAAAC,aAAaA,CAACC,MAAM,CAAEC,UAAU,CAAE,CAC9CH,SAAS,CAAC,UAAM,CACZ,GAAI,CAACE,MAAM,CAAE,OAEb,GAAM,CAAAE,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAIC,KAAK,CAAK,CAC7B,GAAIA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,cAAc,CAAC,CAAE,CACjDL,UAAU,EAAE,CAChB,CACJ,CAAC,CAED,GAAM,CAAAM,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CACxB,GAAIA,CAAC,CAACC,GAAG,GAAK,QAAQ,CAAE,CACpBR,UAAU,EAAE,CAChB,CACJ,CAAC,CAEDS,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEJ,YAAY,CAAC,CAClDG,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAET,aAAa,CAAC,CAErD,MAAO,WAAM,CACTQ,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEL,YAAY,CAAC,CACrDG,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEV,aAAa,CAAC,CAC5D,CAAC,CAEL,CAAC,CAAE,CAACF,MAAM,CAAEC,UAAU,CAAC,CAAC,CAC5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}